esphome:
  name: esphome-web-32s3
  friendly_name: esphome-web-32s3

esp32:
  board: esp32-s3-devkitc-1
  framework:
    type: arduino
    
logger:

ota:
  password: "xxxxxxxxxxxxxxxxxxx"

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_password

  ap:
    ssid: "Esphome-Web-32S3"
    password: "qq4Q8emK58E3"

captive_portal:

api:
  encryption:
    key: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

i2c:
  sda: GPIO35
  scl: GPIO36

pn532_i2c: #NFC tag reader
  id: pn532_tag_id
  on_tag:
    then:
      - homeassistant.tag_scanned: !lambda |
          if (!tag.has_ndef_message()) {
            return x;
          }
          auto message = tag.get_ndef_message();
          auto records = message->get_records();
          for (auto &record : records) {
            std::string payload = record->get_payload();
            size_t pos = payload.find("https://www.home-assistant.io/tag/");
          }
          return x;
